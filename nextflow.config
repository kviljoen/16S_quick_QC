docker.enabled = false
singularity.enabled = true
singularity.cacheDir = "/scratch/DB/bio/singularity-containers"

process {

    cache = true

    stageInMode='symlink'
    stageOutMode='rsync'

    $runFastQC.container='/scratch/DB/bio/singularity-containers/h3abionet_org_h3a16s-fastqc.img';
    $runMultiQC.container='/scratch/DB/bio/singularity-containers/h3abionet_org_h3a16s-fastqc.img';
}

executor{
    jobName = { "$task.tag" }
}

// Some help with time stamps
import java.text.SimpleDateFormat
params {

    projectName = "fastqc"
    rawReads = "*{R1,R2}.fastq.gz"
    timestamp = new SimpleDateFormat("yyyy-MM-dd").format(new java.util.Date())
    outDir = ""./" + timestamp + "-fastqc""
}

profiles{
    standard {
        process.executor = 'local'
    }

   hex {
        process.executor = 'pbs'
        process.queue = 'UCTlong'
	    process.clusterOptions = '-M katieviljoen@gmail.com -m abe -l nodes=1:ppn=1:series600'
    }
}
